<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8" />
	<title>Minimal Browser</title>
	<style>
		body {
			font-family: sans-serif;
			margin: 0;
			padding: 2em;
			background: #f0f0f0;
		}

		.category {
			margin-bottom: 2em;
		}

		.category h2 {
			margin: 0 0 1em 0;
		}

		ul {
			list-style: none;
			padding: 0;
		}

		li {
			margin: 0.5em 0;
		}

		button {
			font-size: 1.2em;
			padding: 0.5em 1em;
		}
	</style>
</head>

<body>
	<div style="display: flex; height: 100vh;">
		<div id="bookmarks" style="flex: 0 0 10%; overflow-y: auto; margin-right: 1em;"></div>
		<div id="browser-container" style="flex: 1 1 85%; height: 100%; border: none;">
			<div>
				<button onclick="goBack()">← Back</button>
				<button onclick="goForward()">Forward →</button>
			</div>
			<webview id="browser" style="width:100%; height:100%; border:none;"></webview>
		</div>
	</div>
	<script>
		function goBack() {
			const view = document.getElementById('browser');
			if (view && view.canGoBack()) {
				view.goBack();
			}
		}

		function goForward() {
			const view = document.getElementById('browser');
			if (view && view.canGoForward()) {
				view.goForward();
			}
		}
		window.electronAPI.getBookmarks().then(data => {
			const container = document.getElementById('bookmarks');

			for (const [category, links] of Object.entries(data)) {
				const div = document.createElement('div');
				div.className = 'category';
				const header = document.createElement('h2');
				header.textContent = category;
				div.appendChild(header);

				const ul = document.createElement('ul');
				links.forEach(link => {
					const li = document.createElement('li');
					const button = document.createElement('button');
					button.textContent = link.name;
					button.onclick = () => document.getElementById('browser').src = link.url;
					li.appendChild(button);
					ul.appendChild(li);
				});

				div.appendChild(ul);
				container.appendChild(div);
			}
		});
	</script>
</body>

</html>